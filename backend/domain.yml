version: "3.1"

intents:
- start_session1
- confirm_usage
- confirm_intro_session1
- confirm_extra_info_session1
- able_to_provide_previous_activity
- not_able_to_provide_previous_activity
- confirm_user_state_explanation
- current_mood
- current_rest
- current_available_time
- current_self_motivation
- current_self_efficacy
- goal_accepted
- goal_rejected
- end_conversation
- goal_too_high
- goal_too_low
- goal_rejected_reason
- get_started_session_mid
- able_to_provide_previous_activity_not_first_session
- remember_goal
- current_goal_achievability
- start_session_mid
- start_session_last

entities:
- session_num:
    influence_conversation: false
- mood:
    influence_conversation: false
- mood_quadrant:
    influence_conversation: false
- rest:
    influence_conversation: false
- rest_level:
    influence_conversation: false
- available_time:
    influence_conversation: false
- available_time_level:
    influence_conversation: false
- self_motivation:
    influence_conversation: false
- self_motivation_level:
    influence_conversation: false
- self_efficacy:
    influence_conversation: false
- self_efficacy_level:
    influence_conversation: false
- rejection_reason:
    influence_conversation: false
- goal_remembered:
    influence_conversation: false
- goal_achievability:
    influence_conversation: false
- previous_activity_from_db:
    influence_conversation: false

slots:
  session_loaded:
    type: bool
    influence_conversation: true
    mappings:
    - type: custom
  session_num:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: session_num
  previous_activity_slot:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
        - active_loop: previous_activity_form
  mood:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: mood
  mood_quadrant:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: mood_quadrant
  rest:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: rest
  rest_level:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: rest_level
  available_time:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: available_time
  available_time_level:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: available_time_level
  self_motivation:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: self_motivation
  self_motivation_level:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: self_motivation_level
  self_efficacy:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: self_efficacy
  self_efficacy_level:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: self_efficacy_level
  step_goal_option_1_slot:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: custom
  step_goal_option_2_slot:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: custom
  step_goal_option_3_slot:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: custom
  preferred_step_goal_slot:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
        - active_loop: propose_step_goal_options_form
  rejection_reason:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: rejection_reason
  first_proposal:
    type: bool
    initial_value: true
    influence_conversation: false
    mappings:
    - type: custom
  number_of_rejected_proposals:
    type: text
    initial_value: '0'
    influence_conversation: false
    mappings:
    - type: custom
  final_choice:
    type: bool
    initial_value: false
    influence_conversation: false
    mappings:
    - type: custom
  goal_prev_session:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: custom
  previous_activity_not_session1_slot:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
        - active_loop: previous_activity_not_session1_form
  goal_remembered:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: goal_remembered
  goal_achievability:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: goal_achievability
  previous_activity_from_db:
    type: text
    initial_value: ''
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: previous_activity_from_db

responses:

  utter_greet_first_time:
  - text: "Hello, my name is Steph and I'll be helping you to increase your physical activity during the coming days!"
  utter_prompt_usage:
  - text: "Before we start, let me explain how you can communicate with me."
  utter_explain_usage:
  - buttons:
    - payload: /confirm_usage
      title: "That's clear"
    - payload: /confirm_usage
      title: "Nice, sounds easy enough!"
    text: "Most of the time, you can just click on one of the buttons that appear. If no buttons appear, just make use of the text field below."
  utter_intro_session1_1:
  - text: "Alright! Now, to get more physically and mentally fit, it's important to increase your physical activity. That's why were are going to increase the number of steps you take each day.üö∂"
  utter_intro_session1_2:
  - text: "When increasing the number of steps you take each day, you should try to have this increase be subtle and gradual otherwise you might run into injuries.ü§ï So, it is better to do a bit more everyday than to do a lot more at once."
  utter_intro_session1_3:
  - text: "I will help you with gradually increasing the number of steps you take each day by assisting you in setting daily step goals.üéØ"
  utter_intro_session1_4:
  - text: "During these sessions, I'll propose a few step goals after which you are able to choose which of those you want. To create the step goal proposals, I look at your previous activity to make sure that the goals are challenging yet attainable!"
  utter_intro_session1_5:
  - text: "Of course, there is only one person who knows what is best for you and that is‚Ä¶ well you! Because of that, after picking one of my proposals, you are able to indicate that you want something lower or higher than that."
  utter_intro_session1_6:
  - text: "Then I will make sure to change the proposals according to your wishes so that we can set a goal together that we both like.ü§ó You can do this up to 5 times."
  utter_intro_session1_7:
  - buttons:
    - payload : /confirm_intro_session1
      title: "I'm ready!"
    text: "Let me know when you've finished reading the purpose of these sessions and you are ready to continue."
  utter_extra_info_session1_1:
  - text: "So, in each session we'll set a step goal for you."
  utter_extra_info_session1_2:
  - text: "And don't worry, I'll also send you your goal in a message on Prolific right after this session ends."
  utter_extra_info_session1_3:
  - text: "Please note that achieving your step goal after this session is voluntary and does not impact your payment."
  utter_extra_info_session1_4:
  - buttons:
    - payload : /confirm_extra_info_session1
      title: "Now, let's go!"
    text: "Let me know when you've finished reading, so that we can start creating your step goal for today."
  utter_inform_purpose_previous_activity_1:
  - text: "To start off, I would like to know how many steps you took in the past days, so that I can make some step goal proposals based on that."
  utter_inform_purpose_previous_activity_2:
  - text: "I need your steps from at least the previous 5 days, but you can input more days than that if you want. Ideally, I would like to know your steps of the past 9 days."
  utter_inform_purpose_previous_activity_3:
  - buttons:
    - payload : /able_to_provide_previous_activity
      title: "Yes"
    - payload : /not_able_to_provide_previous_activity
      title: "No"
    text: "Do you know how many steps you took in the past 5 to 9 days? (e.g. by looking it up on your phone or smartwatch)"
  utter_explain_input_previous_activity:
  - text: "Great! You can share it by typing the number of steps you took each day seperated by a comma."
  utter_example_input_previous_activity:
  - text: "So, for example, if I took 2000 steps yesterday, 3000 steps the day before that, and 2500 steps the day before that, I would type: 2000,3000,2500"
  utter_ask_previous_activity_slot:
  - text: "How many steps did you take in the past 5 days? (Remember, you may also give your steps up to the previous 9 days)"
  utter_end_because_no_previous_activity:
  - text: "Hmm, well then I cannot do much for you. I guess that our conversation ends here. Have a nice day!"
  utter_thanks_previous_activity:
  - text: "Thanks for sharing!üëç"
  utter_explain_user_state_1:
  - text: "With your previous activity I can create some step goals for you. But to make them even more suited for you for today, I need some more information from you."
  utter_explain_user_state_2:
  - text: "So, I'll ask you 5 multiple-choice questions.üìù It's important that you answer them as honestly as possible and know that there are no right or wrong answers."
  utter_explain_user_state_3:
  - text: "For the first question, know that there'll be quite a lot of answer options. Don't be intimidated by them and choose the answer that fits you best!"
  utter_explain_user_state_4:
  - buttons:
    - payload : /confirm_user_state_explanation
      title: "Let's continue"
    text: "Let me know when you're ready to continue."
  utter_get_mood:
  - buttons:
    - payload: /current_mood{"mood":"satisfied", "mood_quadrant":"ha_hv"}
      title: "Satisfied"
    - payload: /current_mood{"mood":"pleased", "mood_quadrant":"ha_hv"}
      title: "Pleased"
    - payload: /current_mood{"mood":"delighted", "mood_quadrant":"ha_hv"}
      title: "Delighted"
    - payload: /current_mood{"mood":"happy", "mood_quadrant":"ha_hv"}
      title: "Happy"
    - payload: /current_mood{"mood":"glad", "mood_quadrant":"ha_hv"}
      title: "Glad"
    - payload: /current_mood{"mood":"excited", "mood_quadrant":"ha_hv"}
      title: "Excited"
    - payload: /current_mood{"mood":"aroused", "mood_quadrant":"ha_hv"}
      title: "Aroused"
    - payload: /current_mood{"mood":"astonished", "mood_quadrant":"ha_hv"}
      title: "Astonished"
    - payload: /current_mood{"mood":"alarmed", "mood_quadrant":"ha_lv"}
      title: "Alarmed"
    - payload: /current_mood{"mood":"angry", "mood_quadrant":"ha_lv"}
      title: "Angry"
    - payload: /current_mood{"mood":"annoyed", "mood_quadrant":"ha_lv"}
      title: "Annoyed"
    - payload: /current_mood{"mood":"distressed", "mood_quadrant":"ha_lv"}
      title: "Distressed"
    - payload: /current_mood{"mood":"afraid", "mood_quadrant":"ha_lv"}
      title: "Afraid"
    - payload: /current_mood{"mood":"frustrated", "mood_quadrant":"ha_lv"}
      title: "Frustrated"
    - payload: /current_mood{"mood":"miserable", "mood_quadrant":"la_lv"}
      title: "Miserable"
    - payload: /current_mood{"mood":"depressed", "mood_quadrant":"la_lv"}
      title: "Depressed"
    - payload: /current_mood{"mood":"gloomy", "mood_quadrant":"la_lv"}
      title: "Gloomy"
    - payload: /current_mood{"mood":"tense", "mood_quadrant":"la_lv"}
      title: "Tense"
    - payload: /current_mood{"mood":"droopy", "mood_quadrant":"la_lv"}
      title: "Droopy"
    - payload: /current_mood{"mood":"sad", "mood_quadrant":"la_lv"}
      title: "Sad"
    - payload: /current_mood{"mood":"tired", "mood_quadrant":"la_lv"}
      title: "Tired"
    - payload: /current_mood{"mood":"bored", "mood_quadrant":"la_lv"}
      title: "Bored"
    - payload: /current_mood{"mood":"sleepy", "mood_quadrant":"la_lv"}
      title: "Sleepy"
    - payload: /current_mood{"mood":"serene", "mood_quadrant":"la_hv"}
      title: "Serene"
    - payload: /current_mood{"mood":"relaxed", "mood_quadrant":"la_hv"}
      title: "Relaxed"
    - payload: /current_mood{"mood":"calm", "mood_quadrant":"la_hv"}
      title: "Calm"
    - payload: /current_mood{"mood":"tranquil", "mood_quadrant":"la_hv"}
      title: "Tranquil"
    - payload: /current_mood{"mood":"content", "mood_quadrant":"la_hv"}
      title: "Content"
    - payload: /current_mood{"mood":"neutral", "mood_quadrant":"neutral"}
      title: "Neutral"
    text: "Question 1: How are you feeling today? Choose the option that fits you best."
  utter_respond_mood:
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Yay, always good to hear that somebody is feeling {mood}!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Awesome, you must be having a good day!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Fantastic, that's very good to hear!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Great, I'm happy to hear that that you're feeling {mood}!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Fantastic, I'm happy to hear that!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "That's great news, I'm so happy that you're feeling {mood}!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Good for you, I'm glad you're feeling {mood}!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_hv"
      text: "Excellent, it's good to hear that you're feeling {mood}!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Nice, that's good to hear."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Nice, I'm glad to hear that you're feeling {mood}."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Nice, I'm glad to hear that."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Nice, that's always good to hear."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Nice, glad you're feeling {mood}."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "That's good, I'm glad that you're {mood}."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Nice, it's good to see you're {mood}."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Good to hear, so things are going well for you."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_hv"
      text: "Good to know, you seem to be doing well."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "I hate to hear that you're feeling {mood}. I hope you feel better soon! Meanwhile, maybe this session can help to cheer you up a bit."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "I'm sorry to hear that you're feeling {mood}. Here's hoping this chat will bring some cheer and comfort to you."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "Aww I feel for you, let's chat and try to turn that frown upside down."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "I hope you're feeling better soon. In the meantime, let's see if we can brighten your day a bit with this chat."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "Oh I'm so sorry that you're not having a good day. I hope it gets better soon and that I can cheer you up a little!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "Oh this doesn't feel good to hear. I'm sending positive vibes your way and hoping this session will make you feel a bit better."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "la_lv"
      text: "So sorry about that! Feel better soon - hopefully talking about becoming more physically active can help a bit."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "I'm really sorry to hear that you're feeling {mood}. I hope you feel better soon!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "Aww I'm so sorry to hear this. Hopefully you feel less {mood} soon!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "Oh that's a shame that you're not having a good day. I hope it gets better soon and that I can distract you a bit."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "I hate to hear that today isn't a good day for you. Hopefully you feel better soon and that it's okay to proceed with this session!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "Aww what a shame. Hopefully you feel less {mood} soon!"
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "Oh that's unfortunate, let's hope for a brighter tomorrow."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "Aww, I hope things look up for you soon."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "That's not good news, I hope you feel better soon and that you're up for continuing with this session."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "ha_lv"
      text: "I'm sorry you're having a tough day, I hope it gets better soon. I hope you feel okay to move forward with this session."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Ah, sounds like you're having a pretty average day."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Sounds like things are going fine for you."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "I see, seems like you're doing okay then."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "I see, just a normal day for you then."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Just an average day, got it."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Fair enough, you're having a day that's neither here nor there."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Okay, a day like any other."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Okay, so nothing out of the ordinary."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "I see, not too bad, not too good, just an average day."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Ah, a typical day, I understand."
    - condition:
        - type: slot
          name: mood_quadrant
          value: "neutral"
      text: "Ah nothing special, just a regular day for you."
  utter_get_rest:
  - buttons:
    - payload: /current_rest{"rest":"0", "rest_level":"low"}
      title: "0 (I slept terrible last night)"
    - payload: /current_rest{"rest":"1", "rest_level":"low"}
      title: "1"
    - payload: /current_rest{"rest":"2", "rest_level":"low"}
      title: "2"
    - payload: /current_rest{"rest":"3", "rest_level":"low"}
      title: "3"
    - payload: /current_rest{"rest":"4", "rest_level":"mid"}
      title: "4"
    - payload: /current_rest{"rest":"5", "rest_level":"mid"}
      title: "5"
    - payload: /current_rest{"rest":"6", "rest_level":"mid"}
      title: "6"
    - payload: /current_rest{"rest":"7", "rest_level":"high"}
      title: "7"
    - payload: /current_rest{"rest":"8", "rest_level":"high"}
      title: "8"
    - payload: /current_rest{"rest":"9", "rest_level":"high"}
      title: "9"
    - payload: /current_rest{"rest":"10", "rest_level":"high"}
      title: "10 (I slept amazing last night)"
    text: "Question 2: How well did you sleep last night on a scale from 0 to 10?"
  utter_respond_rest:
    - condition:
        - type: slot
          name: rest_level
          value: "low"
      text: "Aww, that sucks. Hopefully it will be better tonight!"
    - condition:
        - type: slot
          name: rest_level
          value: "mid"
      text: "Ah okay, decent!"
    - condition:
        - type: slot
          name: rest_level
          value: "high"
      text: "That's great, it always nice to sleep well!"
  utter_get_available_time:
  - buttons:
    - payload: /current_available_time{"available_time":"0", "available_time_level":"low"}
      title: "0 (I have no time at all to go for a walk today)"
    - payload: /current_available_time{"available_time":"1", "available_time_level":"low"}
      title: "1"
    - payload: /current_available_time{"available_time":"2", "available_time_level":"low"}
      title: "2"
    - payload: /current_available_time{"available_time":"3", "available_time_level":"low"}
      title: "3"
    - payload: /current_available_time{"available_time":"4", "available_time_level":"mid"}
      title: "4"
    - payload: /current_available_time{"available_time":"5", "available_time_level":"mid"}
      title: "5"
    - payload: /current_available_time{"available_time":"6", "available_time_level":"mid"}
      title: "6"
    - payload: /current_available_time{"available_time":"7", "available_time_level":"high"}
      title: "7"
    - payload: /current_available_time{"available_time":"8", "available_time_level":"high"}
      title: "8"
    - payload: /current_available_time{"available_time":"9", "available_time_level":"high"}
      title: "9"
    - payload: /current_available_time{"available_time":"10", "available_time_level":"high"}
      title: "10 (I have a lot of time to go for a walk today)"
    text: "Question 3: How much time do you have available today to go for a walk on a scale from 0 to 10?"
  utter_respond_available_time:
    - condition:
        - type: slot
          name: available_time_level
          value: "low"
      text: "Hmm, quite busy I see. But, try to at least go for a little walk as it is healthy and can help clear your mind!"
    - condition:
        - type: slot
          name: available_time_level
          value: "mid"
      text: "Okay that's good! You often don't need that much time to go for a little healthy walk."
    - condition:
        - type: slot
          name: available_time_level
          value: "high"
      text: "Ah, a lot of free time today. Use some of it to go for a walk as it's good for your health!"
  utter_get_self_motivation:
  - buttons:
    - payload: /current_self_motivation{"self_motivation":"0", "self_motivation_level":"low"}
      title: "0 (I really do not want to go for a walk today)"
    - payload: /current_self_motivation{"self_motivation":"1", "self_motivation_level":"low"}
      title: "1"
    - payload: /current_self_motivation{"self_motivation":"2", "self_motivation_level":"low"}
      title: "2"
    - payload: /current_self_motivation{"self_motivation":"3", "self_motivation_level":"low"}
      title: "3"
    - payload: /current_self_motivation{"self_motivation":"4", "self_motivation_level":"mid"}
      title: "4"
    - payload: /current_self_motivation{"self_motivation":"5", "self_motivation_level":"mid"}
      title: "5"
    - payload: /current_self_motivation{"self_motivation":"6", "self_motivation_level":"mid"}
      title: "6"
    - payload: /current_self_motivation{"self_motivation":"7", "self_motivation_level":"high"}
      title: "7"
    - payload: /current_self_motivation{"self_motivation":"8", "self_motivation_level":"high"}
      title: "8"
    - payload: /current_self_motivation{"self_motivation":"9", "self_motivation_level":"high"}
      title: "9"
    - payload: /current_self_motivation{"self_motivation":"10", "self_motivation_level":"high"}
      title: "10 (I am very motivated to go for a walk today)"
    text: "Question 4: How motivated are you to go for a walk today on a scale from 0 to 10?"
  utter_respond_self_motivation:
    - condition:
        - type: slot
          name: self_motivation_level
          value: "low"
      text: "It's okay to feel less motivated sometimes. Often it's just a matter of getting started and thinking about the benefits of going for a walk!"
    - condition:
        - type: slot
          name: self_motivation_level
          value: "mid"
      text: "Alright, most times once you start walking, you'll get even more motivated to keep going. But it's good to already be somewhat motivated!"
    - condition:
        - type: slot
          name: self_motivation_level
          value: "high"
      text: "Nice, let's not waste much time then and continue with the last question!"
  utter_get_self_efficacy:
  - buttons:
    - payload: /current_self_efficacy{"self_efficacy":"0", "self_efficacy_level":"low"}
      title: "0 (I really do not think I can achieve a step goal today)"
    - payload: /current_self_efficacy{"self_efficacy":"1", "self_efficacy_level":"low"}
      title: "1"
    - payload: /current_self_efficacy{"self_efficacy":"2", "self_efficacy_level":"low"}
      title: "2"
    - payload: /current_self_efficacy{"self_efficacy":"3", "self_efficacy_level":"low"}
      title: "3"
    - payload: /current_self_efficacy{"self_efficacy":"4", "self_efficacy_level":"mid"}
      title: "4"
    - payload: /current_self_efficacy{"self_efficacy":"5", "self_efficacy_level":"mid"}
      title: "5"
    - payload: /current_self_efficacy{"self_efficacy":"6", "self_efficacy_level":"mid"}
      title: "6"
    - payload: /current_self_efficacy{"self_efficacy":"7", "self_efficacy_level":"high"}
      title: "7"
    - payload: /current_self_efficacy{"self_efficacy":"8", "self_efficacy_level":"high"}
      title: "8"
    - payload: /current_self_efficacy{"self_efficacy":"9", "self_efficacy_level":"high"}
      title: "9"
    - payload: /current_self_efficacy{"self_efficacy":"10", "self_efficacy_level":"high"}
      title: "10 (I am very confident that I can achieve a step goal today)"
    text: "The final question, question 5: How confident are you that you can achieve a step goal today on a scale from 0 to 10?"
  utter_respond_self_efficacy:
    - condition:
        - type: slot
          name: self_efficacy_level
          value: "low"
      text: "Oh, don't be too harsh on yourself, you can do it!"
    - condition:
        - type: slot
          name: self_efficacy_level
          value: "mid"
      text: "Okay, that's alright. You'll be fine!"
    - condition:
        - type: slot
          name: self_efficacy_level
          value: "high"
      text: "Okay, perfect! Let's get to the goal-setting then."
  utter_thanks_states:
  - text: "Those were all the questions, thank you for your answers!"
  utter_explain_goal_setting_1:
  - condition:
      - type: slot
        name: session_num
        value: "1"
    text: "Now we've come to the exciting part: the actual goal-setting.üéØI am going to give you 3 step goal options and ask you to pick one of them."
  - condition:
      - type: slot
        name: session_num
        value: "5"
    text: "For one last time we've come to the goal-setting part.üéØ You know the drill, choose one of the 3 options I give you."
  - text: "We've once again come to the actual goal-setting part.üéØ I'll propose 3 step goal options of which you have to choose 1."    
  utter_explain_goal_setting_2:
  - condition:
      - type: slot
        name: session_num
        value: "1"
    text: "You can make your choice by typing the option you want. Do know that after picking one of them, you are still able to change it."
  - text: "Type the option you want and remember that your pick doesn't have to be your final decision since you can change it up to 5 times!"
  utter_ask_preferred_step_goal_slot:
  - text: "Which of the following step goal options do you prefer? {step_goal_option_1_slot}, {step_goal_option_2_slot} or {step_goal_option_3_slot}?"
  utter_check_choice:
  - condition:
      - type: slot
        name: final_choice
        value: false
    buttons:
      - payload: /goal_accepted
        title: "Yes, I'm happy with it"
      - payload: /goal_rejected
        title: "No, I want something different"
    text: "Good choice! Now, do you want to keep this as your goal for today?"
  - buttons: 
    - payload: /goal_accepted
      title: "Okay"
    text: "As I cannot change the step goal further, this will be your step goal for today."
  utter_congratulate_on_goal:
  - text: "Cool! Congratulations on your step goal for today of {preferred_step_goal_slot} steps!"
  utter_wrap_up_1:
  - condition:
      - type: slot
        name: session_num
        value: "1"
    text: "Great, you now have a realistic and personal step goal for today. It's time to wrap-up this conversation."
  - condition:
      - type: slot
        name: session_num
        value: "5"
    text: "Well, I guess that was it for this intervention. I hope you enjoyed our collaboration and continue to increase your physical activity!üí™"
  - text: "Alright, that was it for today!"
  utter_wrap_up_2:
  - text: "Remember that taking steps is healthy for you and shouldn't have to take take too much time. You can do this!üö∂"
  utter_wrap_up_3:
  - condition:
      - type: slot
        name: session_num
        value: "5"
    buttons:
      - payload: /end_conversation
        title: "Goodbye!"
    text: "Take care and goodbye!"
  - buttons:
    - payload: /end_conversation
      title: "Bye bye!"
    text: "I hope to see you back tomorrow and good luck with your step goal.üí™ Bye!"
  utter_goal_not_accepted:
  - buttons:
    - payload: /goal_too_low
      title: "Too low"
    - payload: /goal_too_high
      title: "Too high"
    text: "Ok, do you think it is too low or too high then?"
  utter_increase_goal_1:
  - text: "Alright, I admire your confidence and willpower!üí™"
  - text: "Okay, you want more I see."
  - text: "Looking for a challenge, I like it!"
  utter_increase_goal_2:
  - text: "Do know though, that you should not take too many steps today, as that might lead to an injury.ü§ï"
  - text: "Don't get too far ahead of yourself though, as that could lead to an injury."
  utter_decrease_goal:
  - buttons:
    - payload: /goal_rejected_reason{"rejection_reason":"weather"}
      title: "The weather is not good enough today"
    - payload: /goal_rejected_reason{"rejection_reason":"tired"}
      title: "I'm too tired today"
    - payload: /goal_rejected_reason{"rejection_reason":"time"}
      title: "I do not have the time today"
    - payload: /goal_rejected_reason{"rejection_reason":"else"}
      title: "I just do not feel like taking that many steps today"
    - payload: /goal_rejected_reason{"rejection_reason":"else"}
      title: "It's because of something else"
    text: "I see, why do you think this step goal is too high for today?"
  utter_comfort_user:
    - condition:
        - type: slot
          name: rejection_reason
          value: "weather"
      text: "Yeah that's annoying. However, most of the times the weather isn't bad during the entrire day. So try to find a time at which the weather is good enough a go for a little walk then!"
    - condition:
        - type: slot
          name: rejection_reason
          value: "tired"
      text: "I understand that you do not want to take many steps when you are tired. However, being physically active is good for you and can help you get more energy to do other things. So try to take at least some steps today!"
    - condition:
        - type: slot
          name: rejection_reason
          value: "time"
      text: "Sometimes you are busy with other things but even then you should try to go for a little walk as it can help you clear your mind and feel more energetic to continue. So if you are busy, try to find a timeslot today were you can do a little walk, even 10 minutes is already something!üëç"
    - condition:
        - type: slot
          name: rejection_reason
          value: "else"
      text: "Thanks for telling me. It's okay to do less for a day, but try do to at least some steps today as it will make you feel better and more energetic to do other things!"
  utter_greet_repeat:
    - text: "Hi, nice to see you again!"
    - text: "Hello, welcome back!"
    - text: "Hello, it's great to see you again!"
    - text: "Hi, I'm happy to see you again!"
    - text: "Hey there, good to see you again!"
    - text: "Welcome back! It's good to see you again."
    - text: "Welcome to session {session_num}! Glad to see you back."
  utter_get_started:
  - buttons:
    - payload: /get_started_session_mid
      title: "Alright!"
    text: "I am curious to hear how you did yesterdayüö∂, so let's get right in!"
  utter_get_previous_activity:
  - buttons:
    - payload : /able_to_provide_previous_activity_not_first_session
      title: "Yes"
    - payload : /not_able_to_provide_previous_activity
      title: "No"
    text: "Do you know how many steps you took yesterday? (e.g. by looking it up on your phone or smartwatch)"
  utter_explain_previous_activity_not_session1_slot:
  - text: "Perfect! You can tell me by just typing the number."
  utter_ask_previous_activity_not_session1_slot:
  - text: "So, how many steps did you take yesterday?"
  utter_thanks_previous_activity_not_session1:
  - text: "Nice! Thanks for sharing."
  utter_check_previous_goal:
  - buttons:
    - payload: /remember_goal{"goal_remembered":"true"}
      title: "Yes, I remember it"
    - payload: /remember_goal{"goal_remembered":"false"}
      title: "No, I forgot it"
    text: "Now, do you remember your step goal from yesterday?"
  utter_respond_previous_goal:
    - condition:
        - type: slot
          name: goal_remembered
          value: "true"
      text: "Alright! If I remember correctly, you had the goal of taking {goal_prev_session} steps yesterday.üéØ"
    - condition:
        - type: slot
          name: goal_remembered
          value: "false"
      text: "That's fine, no problem. I recall setting a goal of {goal_prev_session} steps with you yesterday.üéØ"
  utter_explain_goal_achievement:
  - text: "I would like to know whether you think the goal we set yesterday was achievable looking back at it."
  utter_get_goal_achievability:
  - buttons:
    - payload: /current_goal_achievability{"goal_achievability":"0", "self_efficacy_level":"low"}
      title: "0 (I think yesterday's goal was impossible to achieve)"
    - payload: /current_goal_achievability{"goal_achievability":"1", "self_efficacy_level":"low"}
      title: "1"
    - payload: /current_goal_achievability{"goal_achievability":"2", "self_efficacy_level":"low"}
      title: "2"
    - payload: /current_goal_achievability{"goal_achievability":"3", "self_efficacy_level":"low"}
      title: "3"
    - payload: /current_goal_achievability{"goal_achievability":"4", "self_efficacy_level":"mid"}
      title: "4"
    - payload: /current_goal_achievability{"goal_achievability":"5", "self_efficacy_level":"mid"}
      title: "5"
    - payload: /current_goal_achievability{"goal_achievability":"6", "self_efficacy_level":"mid"}
      title: "6"
    - payload: /current_goal_achievability{"goal_achievability":"7", "self_efficacy_level":"high"}
      title: "7"
    - payload: /current_goal_achievability{"goal_achievability":"8", "self_efficacy_level":"high"}
      title: "8"
    - payload: /current_goal_achievability{"goal_achievability":"9", "self_efficacy_level":"high"}
      title: "9"
    - payload: /current_goal_achievability{"goal_achievability":"10", "self_efficacy_level":"high"}
      title: "10 (I think yesterday's goal was very easy to achieve)"
    text: "So, knowing what you know now, how achievable do you think the goal of yesterday was on a scale from 0 to 10?"
  utter_thanks_goal_achievability:
  - text: "Okay, thanks for sharing!"
  utter_start_state_questions:
  - condition:
      - type: slot
        name: session_num
        value: "5"
    text: "For one last time, I need some more information. The questions didn't change but your answers probably did. Again, try to answer as honestly as possible!"
  - text: "No I would again like to get some more information. I'll ask you the same 5 questions as yesterday.üìù Try to answer them as honestly as possible again."
  utter_greet_final_session:
  - text: "Hey, welcome back once more! This is the fifth and final day of the intervention. I'm glad to see you're still here! ü§ó"
  utter_final_close_session:
  - text: "THIS IS THE END OF THIS SESSION. PLEASE CLOSE THIS WINDOW.\nANY FURTHER TYPING IN THIS CHAT RENDERS THIS SESSION INVALID. IF YOU HAVE QUESTIONS, CONTACT THE RESEARCHER PER MESSAGE ON PROLIFIC."
    
  ### General
  utter_great:
  - text: Great!
  - text: Perfect!
  - text: Awesome!
  
  utter_cool:
  - text: Nice!
  - text: Cool!
  - text: Perfect!
  
  utter_thanks:
  - text: "Thanks!"
  - text: "Thanks for letting me know!"
  - text: "Okay thanks!"
  - text: "Thanks for sharing that with me!"
  
  utter_provide_more_detail:
  - text: "Hmm, can you describe this in a bit more detail?"
  - text: "I see, could you elaborate a little more on this?"
  - text: "I'd like to understand better, can you give me more details on this?"
  - text: "I'm not quite following, could you provide more details?"
  
  utter_default:
  - text: "There is a problem with this session."
  utter_default_close_session:
  - text: "PLEASE CLOSE THIS WINDOW AND CONTACT THE RESEARCHER ON PROLIFIC."
  utter_error_close_session:
  - text: "PLEASE CLOSE THIS WINDOW. ANY FURTHER TYPING IN THIS CHAT RENDERS THIS SESSION INVALID."
 

session_config:
  session_expiration_time: 33  # these are minutes (33 is max. time in Prolific for 6-minute study)
  carry_over_slots_to_new_session: false


# Needed so that slots can be set via buttons  
config:
  store_entities_as_slots: true
  
  
forms:
  previous_activity_form:
    required_slots:
        - previous_activity_slot
  propose_step_goal_options_form:
    required_slots:
        - preferred_step_goal_slot
  previous_activity_not_session1_form:
    required_slots:
        - previous_activity_not_session1_slot


actions:
- action_load_session_first
- action_load_session_not_first
- action_create_step_goal_options
- action_increase_goal
- action_decrease_goal
- action_respond_goal_achievement
- action_save_previous_activity_to_db
- action_save_goal_to_db
- action_save_state_to_db
- action_save_goal_achievability_to_db
- action_save_previous_activity_session1_to_db
- validate_previous_activity_form
- validate_propose_step_goal_options_form
- validate_previous_activity_not_session1_form
- action_end_dialog
- action_default_fallback_end_dialog
